<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="pixydrops">
  <meta name="description" content="Remons - Mis Reservas">
  <title>RentalsCeutec - Mis Reservas</title>

  <link rel="shortcut icon" href="assets/img/favicon.png">
  <link rel="stylesheet" href="assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/css/all.min.css">
  <link rel="stylesheet" href="assets/css/animate.css">
  <link rel="stylesheet" href="assets/css/magnific-popup.css">
  <link rel="stylesheet" href="assets/css/meanmenu.css">
  <link rel="stylesheet" href="assets/css/datepickerboot.css">
  <link rel="stylesheet" href="assets/css/swiper-bundle.min.css">
  <link rel="stylesheet" href="assets/css/nice-select.css">
  <link rel="stylesheet" href="assets/css/main.css">
</head>
<body>

    <!-- Preloader Start -->
    <div id="preloader" class="preloader">
        <div class="animation-preloader">
            <div class="spinner"></div>
            <div class="txt-loading">
                <span data-text-preloader="R" class="letters-loading">R</span>
                <span data-text-preloader="E" class="letters-loading">E</span>
                <span data-text-preloader="N" class="letters-loading">N</span>
                <span data-text-preloader="T" class="letters-loading">T</span>
                <span data-text-preloader="A" class="letters-loading">A</span>
                <span data-text-preloader="L" class="letters-loading">L</span>
                <span data-text-preloader="S" class="letters-loading">S</span>
                <span data-text-preloader="C" class="letters-loading">C</span>
                <span data-text-preloader="E" class="letters-loading">E</span>
                <span data-text-preloader="U" class="letters-loading">U</span>
                <span data-text-preloader="T" class="letters-loading">T</span>
                <span data-text-preloader="L" class="letters-loading">E</span>
                <span data-text-preloader="L" class="letters-loading">C</span>
            </div>
            <p class="text-center">Loading</p>
        </div>
    </div>
    <p class="text-center">Cargando</p>
  </div>
</div>

    <!-- Header Section Start -->
    <header id="header-sticky" class="header-2">
        <div class="container-fluid">
            <div class="mega-menu-wrapper">
                <div class="header-main">
                    <div class="header-left">
                        <div class="logo">
                            <a href="index.html" class="header-logo">
                                <img src="assets/img/logo/black-logo.svg" alt="logo-img">
                            </a>
                        </div>
                    </div>
                    <div class="mean__menu-wrapper">
                        <div class="main-menu">
                            <nav id="mobile-menu">
                                <ul>
                                    <li><a href="index.html">Inicio</a></li>
                                    <li><a href="about.html">Sobre Nosotros</a></li>
                                    <li><a href="car-grid.html">Autos</a></li>
                                    <li><a href="contact.html">Contacto</a></li>
                                    <li><a href="faq.html">Faq's</a></li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                    <div class="header-right d-flex justify-content-end align-items-center">
                        <a href="login.html" id="loginButton" class="theme-btn">
                            ¡Inicia Sesión o Regístrate!
                        </a>
                        <div id="userIcon" style="display: none;">
                            <img src="assets/img/Avatars/avatar-icon.svg" alt="Usuario" width="40px" height="40px">
                            <div id="userMenu" class="user-menu">
                                <a href="userProfile.html">Mi Perfil</a>
                                <a href="reservations.html">Mis Reservas</a>
                                <a href="#" id="logoutButton" class="logout-btn">Cerrar Sesión</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="mean__menu-wrapper">
          <div class="main-menu">
            <nav id="mobile-menu">
              <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="about.html">Sobre Nosotros</a></li>
                <li><a href="car-list.html">Autos</a></li>
                <li><a href="news.html">Blog</a></li>
                <li><a href="contact.html">Contacto</a></li>
              </ul>
            </nav>
          </div>
        </div>
        <div class="header-right d-flex justify-content-end align-items-center">
          <div class="header-button"><!-- authHeader.js insertará aquí el menú de usuario --></div>
        </div>
      </div>
    </div>
  </div>
</header>

<!-- Reservas -->
<section class="section-padding" style="min-height: 60vh;">
  <div class="container reservations-container">
    <div class="row justify-content-center">
      <div class="col-12 bg-white p-4 shadow">
        <h2 class="mb-4 text-center">Mis Reservas</h2>

        <!--Filtros Reservas-->
       <!-- Botón limpiar filtros alineado a la derecha -->
<div class="d-flex justify-content-end mb-2">
  <button id="btnLimpiarFiltros" class="btn btn-outline-secondary btn-sm">
    Limpiar filtros
  </button>
</div>

<!-- Filtros distribuidos a lo ancho de la tabla -->
<div class="row g-3 mb-4">
  <div class="col-md-2">
    <label for="filtroEstado" class="form-label fw-semibold mb-1">Estado</label>
    <select id="filtroEstado" class="form-select form-select-sm">
      <option value="todas">Todas</option>
      <option value="activas">Activas</option>
      <option value="pasadas">Pasadas</option>
    </select>
  </div>

  <div class="col-md-2">
    <label for="filtroMarca" class="form-label fw-semibold mb-1">Marca</label>
    <input type="text" id="filtroMarca" class="form-control form-control-sm" placeholder="Ej. Toyota">
  </div>

  <div class="col-md-2">
    <label for="filtroModelo" class="form-label fw-semibold mb-1">Modelo</label>
    <input type="text" id="filtroModelo" class="form-control form-control-sm" placeholder="Ej. Yaris">
  </div>

  <div class="col-md-3">
    <label for="filtroDesde" class="form-label fw-semibold mb-1">Desde</label>
    <input type="date" id="filtroDesde" class="form-control form-control-sm">
  </div>

  <div class="col-md-3">
    <label for="filtroHasta" class="form-label fw-semibold mb-1">Hasta</label>
    <input type="date" id="filtroHasta" class="form-control form-control-sm">
  </div>
</div>


        
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Marca</th>
              <th>Modelo</th>
              <th>Placa</th>
              <th>Año</th>
              <th>Precio/Día</th>
              <th>Fecha Reservado</th>
              <th>Fecha de Entrega</th>
              <th>Estado</th> 
              <th>Acciones</th>
            </tr>
          </thead>
          
          <tbody id="reservationsTableBody">
            <!-- Las reservas se cargarán aquí dinámicamente -->
          </tbody>
          
        </table>
      </div>
    </div>
  </div>
</section>

<!-- Modal para editar reserva -->
<div class="modal fade" id="modalEditarReserva" tabindex="-1" aria-labelledby="modalEditarReservaLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalEditarReservaLabel">Reprogramar Reserva</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body">
        <form id="formEditarReserva">
          <input type="hidden" id="reservaIdEditar">
          <div class="mb-3">
            <label for="nuevaFechaReserva" class="form-label">Nueva Fecha de Reserva</label>
            <input type="date" class="form-control" id="nuevaFechaReserva" required>
          </div>
          <div class="mb-3">
            <label for="nuevaFechaEntrega" class="form-label">Nueva Fecha de Entrega</label>
            <input type="date" class="form-control" id="nuevaFechaEntrega" required>
          </div>
          <button type="submit" class="btn btn-primary w-100">Guardar Cambios</button>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Modal para confirmar cancelación -->
<div class="modal fade" id="modalConfirmarCancelacion" tabindex="-1" aria-labelledby="modalConfirmarCancelacionLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header bg-danger text-white">
        <h5 class="modal-title" id="modalConfirmarCancelacionLabel">Cancelar Reserva</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body">
        ¿Estás seguro de que deseas cancelar esta reserva?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
        <button type="button" class="btn btn-danger" id="btnConfirmarCancelacion">Sí, cancelar</button>
      </div>
    </div>
  </div>
</div>


<!-- Footer -->
<footer class="footer-section fix">
  <div class="container">
    <div class="footer-bottom">
      <div class="footer-wrapper text-center">
        <p>© Copyright <a href="index.html">RentalsCeutec</a></p>
      </div>
    </div>
  </div>
</footer>

<!-- Scripts -->
<script src="assets/js/jquery-3.7.1.min.js"></script>
<script src="assets/js/viewport.jquery.js"></script>
<script src="assets/js/bootstrap.bundle.min.js"></script>
<script src="assets/js/jquery.nice-select.min.js"></script>
<script src="assets/js/jquery.waypoints.js"></script>
<script src="assets/js/jquery.counterup.min.js"></script>
<script src="assets/js/bootstrap-datepicker.js"></script>
<script src="assets/js/swiper-bundle.min.js"></script>
<script src="assets/js/jquery.meanmenu.min.js"></script>
<script src="assets/js/jquery.magnific-popup.min.js"></script>
<script src="assets/js/animation.js"></script>
<script src="assets/js/wow.min.js"></script>
<script src="assets/js/main.js"></script>

<!-- Firebase y lógica -->
<script type="module" src="assets/js/firebaseConfig.js"></script>
<script type="module" src="assets/js/reservations.js"></script>
<script type="module" src="assets/js/authHeader.js"></script>

</body>
</html>
